(this["webpackJsonpvoting-app-webapp"]=this["webpackJsonpvoting-app-webapp"]||[]).push([[5],{246:function(e,t,n){"use strict";var a=n(16),i=n(1),c=n(127),r=n(199),s=n(326),o=n(313),l=n(311),d=n(312),u=n(310),j=n(84),b=n(83),m=n(3);t.a=function(e){var t=e.title,n=e.message,O=e.acceptText,f=e.cancelText,v=e.renderTrigger,p=e.action,h=e.onSuccess,x=e.onError,_=Object(i.useState)(!1),g=Object(a.a)(_,2),y=g[0],k=g[1],C=Object(i.useState)(!1),T=Object(a.a)(C,2),N=T[0],S=T[1],P=function(){return k(!1)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{open:function(){return k(!0)},close:P}),Object(m.jsxs)(s.a,{open:y,onClose:P,maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:N,disableBackdropClick:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(m.jsx)(u.a,{id:"alert-dialog-title",children:t}),n&&Object(m.jsx)(l.a,{children:Object(m.jsx)(d.a,{id:"alert-dialog-description",children:n})}),Object(m.jsxs)(o.a,{children:[Object(m.jsx)(r.a,{onClick:P,color:"secondary",variant:"contained",disabled:N,children:null!==f&&void 0!==f?f:"Cancel"}),Object(m.jsxs)(r.a,{onClick:function(){var e=p();if(!Object(b.c)(e))return P();S(!0),e.then((function(e){h&&h(e)})).catch((function(e){x&&x(e)})).finally((function(){S(!1),P()}))},color:"primary",variant:"contained",autoFocus:!0,disabled:N,children:[Object(m.jsxs)(j.a,{inCase:N,children:[Object(m.jsx)(c.a,{size:20}),Object(m.jsx)(m.Fragment,{children:null!==O&&void 0!==O?O:"Yes"})]}),N]})]})]})]})}},249:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(16),i=n(1);function c(e){var t=Object(i.useReducer)((function(e,t){return Object.assign({},e,t)}),e),n=Object(a.a)(t,2);return[n[0],n[1]]}},253:function(e,t,n){"use strict";var a=n(16),i=n(240),c=n(314),r=n(323),s=n(199),o=n(72),l=n(254),d=n.n(l),u=n(19),j=n(22),b=n(33),m=n(1),O=n(84),f=n(99),v=n(35),p=n(83),h=n(246),x=n(13),_=n(3);t.a=function(e){var t=e.afterSubmitAction,n=e.className,l=e.team,g=void 0===l?{id:"",name:""}:l,y=e.type,k=e.isAdmin,C=void 0!==k&&k,T=Object(j.b)(),N=Object(x.g)(),S=Object(m.useState)({name:g.name,isPublic:g.isPublic}),P=Object(a.a)(S,2),E=P[0],L=P[1],w=Object(m.useState)(E.isPublic),I=Object(a.a)(w,2),M=I[0],J=I[1],A=Object(o.a)({reValidateMode:"onBlur",mode:"onBlur"}),z=A.register,F=A.handleSubmit,V=A.errors,B=z(u.a.teamName),U=Object(u.b)(V,"name",u.a.teamName),D=Object(j.c)((function(e){return e.teams})).data,H=void 0===D?{}:D,K=Object.values(H);return Object(_.jsxs)("form",{className:d.a.form+" "+n,onSubmit:F((function(e){var n=e.name,a=e.isPublic;if("create"===y)return K.find((function(e){return e.name===n}))?void Object(p.f)(T,{type:"error",content:"Team name already exists"}):(T(Object(b.b)({name:n,isPublic:a})),void(t&&t()));E.name===n&&E.isPublic===a||(Object(f.a)(v.a.getUrl(g.id),{method:"PATCH",body:JSON.stringify({name:n,isPublic:a})}).then((function(e){L(e),Object(p.f)(T,{content:"Saved Changes",type:"success"})})).catch((function(e){return Object(p.f)(T,{content:e.message,type:"error"})})),t&&t())})),children:[Object(_.jsx)(i.a,{margin:"normal",className:d.a.input,inputRef:B,id:"name",name:"name",label:"Name",type:"text",helperText:U,error:Boolean(U),defaultValue:g.name,disabled:!C,required:!0}),Object(_.jsx)(c.a,{className:d.a.last,label:"Public",control:Object(_.jsx)(r.a,{inputRef:z,name:"isPublic",color:"primary",checked:M,onChange:C?function(){return J(!M)}:void 0}),labelPlacement:"end"}),Object(_.jsx)(O.a,{inCase:C,children:Object(_.jsxs)("div",{className:d.a.btns,children:[Object(_.jsx)(s.a,{className:d.a.btn,variant:"contained",color:"primary",type:"submit",children:"Save"}),Object(_.jsx)(O.a,{inCase:"update"===y,children:Object(_.jsx)(h.a,{renderTrigger:function(e){var t=e.open;return Object(_.jsx)(s.a,{className:d.a.delete,color:"secondary",onClick:t,variant:"contained",children:"Delete"})},action:function(){T(Object(b.c)(g.id)),N.push("/")},title:"Are you sure you want to delete team ".concat(E.name,"?"),acceptText:"Yes",cancelText:"Cancel"})})]})})]})}},254:function(e,t,n){e.exports={"fs-lg":"team-form_fs-lg__KXAfg",form:"team-form_form__woAQs",msg:"team-form_msg__3hKwO",input:"team-form_input__1OECB",last:"team-form_last__3kpfG",btn:"team-form_btn__EPysp",btns:"team-form_btns__2lhyx",delete:"team-form_delete__1ZJSP"}},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(34),i=n(104),c=n(316),r=n(315),s=n(266),o=n.n(s),l=n(256),d=n.n(l),u=n(3),j=o()({root:{fontSize:"1.2rem"}})(r.a);t.b=function(e){var t=e.isEmpty,n=e.emptyTableMessage,r=void 0===n?"No Data":n,s=Object(i.a)(e,["isEmpty","emptyTableMessage"]);return t?Object(u.jsx)("div",{className:d.a.empty,children:Object(u.jsx)("p",{children:r})}):Object(u.jsx)(c.a,Object(a.a)(Object(a.a)({className:d.a.table},s),{},{children:e.children}))}},256:function(e,t,n){e.exports={"fs-lg":"custom-table_fs-lg__3qbwE",table:"custom-table_table__26eiR",empty:"custom-table_empty__3ZLMQ"}},257:function(e,t,n){"use strict";var a=n(130),i=n(132);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(n(1)),r=(0,a(n(133)).default)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=r},274:function(e,t,n){e.exports={"fs-lg":"team-list_fs-lg__2sLpv",container:"team-list_container__2ieiB",title:"team-list_title__2_eFp",teams:"team-list_teams__2tC6n",header:"team-list_header__nl4J7"}},275:function(e,t,n){e.exports={"fs-lg":"teams-table_fs-lg__KN13x",table:"teams-table_table__GXMgk","invite-link":"teams-table_invite-link__3IOOg","invite-title":"teams-table_invite-title__23X71"}},297:function(e,t,n){e.exports={"fs-lg":"team-invite_fs-lg__2ItIp","invite-link":"team-invite_invite-link__2kqd_","invite-title":"team-invite_invite-title__Lkv1g"}},298:function(e,t,n){"use strict";var a=n(130),i=n(132);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(n(1)),r=(0,a(n(133)).default)(c.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");t.default=r},299:function(e,t,n){"use strict";var a=n(130),i=n(132);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(n(1)),r=(0,a(n(133)).default)(c.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=r},300:function(e,t,n){"use strict";var a=n(130),i=n(132);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=i(n(1)),r=(0,a(n(133)).default)(c.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=r},324:function(e,t,n){"use strict";n.r(t);var a=n(16),i=n(102),c=n(33),r=n(22),s=n(274),o=n.n(s),l=n(300),d=n.n(l),u=n(199),j=n(326),b=n(310),m=n(1),O=n(253),f=n(317),v=n(318),p=n(238),h=n(299),x=n.n(h),_=n(99),g=n(35),y=n(13),k=n(275),C=n.n(k),T=n(255),N=n(298),S=n.n(N),P=n(249),E=n(257),L=n.n(E),w=n(297),I=n.n(w),M=n(3),J=function(e){var t=e.invitePromise,n=Object(P.a)({inviteLink:"",inviteLinkErr:"",dialogIsOpen:!1,copied:!1}),i=Object(a.a)(n,2),c=i[0],r=c.inviteLink,s=c.inviteLinkErr,o=c.dialogIsOpen,l=c.copied,d=i[1];Object(m.useEffect)((function(){t&&t.then((function(e){return d({inviteLink:"".concat(window.location.origin,"/team/join/").concat(e.token),inviteLinkErr:"",dialogIsOpen:!0,copied:!1})})).catch((function(e){return d({inviteLinkErr:e.message,inviteLink:"",dialogIsOpen:!0,copied:!1})}))}),[t]);var u=r?function(){navigator.clipboard.writeText(r),d({copied:!0}),setTimeout((function(){return d({copied:!1})}),2e3)}:void 0;return Object(M.jsxs)(j.a,{open:o,onClose:function(){d({dialogIsOpen:!1})},children:[Object(M.jsx)(b.a,{children:Object(M.jsxs)("div",{className:I.a["invite-title"],children:[Object(M.jsx)("strong",{children:"Copy Invitation Link"}),Object(M.jsx)(p.a,{onClick:u,title:"Copy",children:l?Object(M.jsx)(L.a,{color:"primary"}):Object(M.jsx)(S.a,{})})]})}),Object(M.jsx)("div",{className:I.a["invite-link"],children:r||s})]})},A=n(246),z=n(84),F=function(e){var t=e.teams,n=Object(y.g)(),i=Object(r.b)(),s=Object(m.useState)(null),o=Object(a.a)(s,2),l=o[0],d=o[1];return Object(M.jsxs)(T.b,{className:C.a.table,isEmpty:0===t.length,emptyTableMessage:"No Teams Found",children:[Object(M.jsx)(f.a,{children:t.map((function(e){return Object(M.jsxs)(v.a,{children:[Object(M.jsx)(T.a,{align:"left",children:e.name},"name"),Object(M.jsxs)(T.a,{align:"center",children:[Object(M.jsxs)(z.a,{inCase:Boolean(e.currentUserIsJoined),children:[Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(u.a,{classes:{root:"mr-3"},variant:"contained",color:"primary",onClick:function(){return n.push("voting/".concat(e.id))},children:"Start Voting"}),Object(M.jsx)(u.a,{classes:{root:"mr-3"},variant:"outlined",color:"primary",onClick:function(){return t=e.id,void d(Object(_.a)(g.a.getInvitationLinkUrl(t),{method:"POST"}));var t},children:"Invite"}),Object(M.jsx)(A.a,{renderTrigger:function(e){var t=e.open;return Object(M.jsx)(u.a,{classes:{root:"mr-3"},variant:"contained",color:"secondary",onClick:t,children:"Leave"})},action:function(){return i(Object(c.j)(e.id))},title:"Are you sure you want to leave team ".concat(e.name,"?"),acceptText:"Yes",cancelText:"Cancel"})]}),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(u.a,{classes:{root:"mr-3"},variant:"contained",color:"primary",onClick:function(){return t=e.id,void i(Object(c.h)(t));var t},children:"Join"})})]}),Object(M.jsx)(p.a,{onClick:function(){return n.push("team/".concat(e.id))},children:Object(M.jsx)(x.a,{})})]},"actions")]},e.name)}))}),Object(M.jsx)(J,{invitePromise:l})]})},V=n(66),B=n(113),U={joined:c.d,nonJoined:c.e},D={0:"joined",1:"nonJoined",joined:0,nonJoined:1};t.default=function(){var e=Object(r.b)(),t=Object(m.useState)(!1),n=Object(a.a)(t,2),s=n[0],l=n[1],f=Object(r.c)((function(e){return e.teams})).selectedTeamsType,v=void 0===f?"joined":f,p=Object(i.a)({action:U[v],selector:function(e){return e.teams},effectDeps:[v]}),h=p.data,x=(p.error,p.loading),_=p.loadingSelectedTeams,g=void 0===_||_,y=Object(r.c)((function(e){return e.user.data}));if(x||!h||!y)return Object(M.jsx)(V.a,{});var k=function(){return l(!1)},C=Object.values(h).filter((function(e){return"joined"===v?e.currentUserIsJoined:!e.currentUserIsJoined}));return Object(M.jsxs)("div",{className:o.a.container,children:[Object(M.jsxs)("div",{className:o.a.header,children:[Object(M.jsx)("h3",{className:o.a.title,children:"Teams"}),Object(M.jsx)(u.a,{className:o.a["add-btn"],color:"primary",variant:"contained",startIcon:Object(M.jsx)(d.a,{}),onClick:function(){return l(!0)},children:"New Team"})]}),Object(M.jsx)(B.a,{buttonTitles:["My Teams","All Public Teams"],tabContents:[Object(M.jsx)(F,{teams:C}),Object(M.jsx)(F,{teams:C})],onTabSwitch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;v!==D[t]&&e(Object(c.a)(0===t?"joined":"nonJoined"))},loading:g,initialSelectedIndex:+D[v]||0,stretchTabs:!1}),Object(M.jsxs)(j.a,{open:s,onClose:k,children:[Object(M.jsx)(b.a,{children:Object(M.jsx)("strong",{children:"Add New Team"})}),Object(M.jsx)(O.a,{afterSubmitAction:k,type:"create",isAdmin:!0})]})]})}}}]);
//# sourceMappingURL=5.84bdce5b.chunk.js.map